<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title> IFPI Tech </title>

    <meta name="author" content="Grupo">
    <meta name="description" content="Blog IFPI Tech">

    <link rel="stylesheet" href="style.css" type="text/css" media="all">
    <script src="scripts.js" defer></script> </head>
<body>
    <div id="geral">
        <div id="cabecalho">
            <header class="cabecalho-conteudo">
                <h1>IFPI Tech</h1>
                <p>| Mural das inova√ß√µes do Instituto Federal do Piau√≠ |</p>
                <button id="toggle-theme" class="toggle-theme-btn">üåô</button>
            </header>
        </div>

        <div id="corpo">
            <aside id="esquerda" class="coluna-lateral">
                <section>
                    <h2> Pesquisar </h2>
                        <div class="search">
                            <label for="search" style="width: 100%;"> Buscar posts: </label>
                        </div>

                        <div class="search">
                            <input type="search" id="search" placeholder="Digite...">
                            <button type="button" id="searchButton"><svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="#e3e3e3"><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></button>
                        </div>
                </section>

                <section id="tag">
                    <h2>Filtrar Posts</h2>
                    <div class="form-group">
                        <label for="tagFilter"> Filtrar por: </label>
                        <select id="tagFilter">
                            <option value="todas"> Todas as Tags</option>
                            <option value="tecnologia"> Tecnologia </option>
                            <option value="empreendedorismo"> Empreendedorismo </option>
                            <option value="sustentabilidade"> Sustentabilidade </option>
                            <option value="tecnologia e empreendedorismo"> Tecnologia e Empreendedorismo </option>
                            <option value="tecnologia e sustentabilidade"> Tecnologia e Sustentabilidade</option>
                            <option value="empreendedorismo e sustentabilidade"> Empreendedorismo e Sustentabilidade </option>
                            <option value="tecnologia, empreendedorismo e sustentabilidade"> Tecnologia, Empreendedorismo e Sustentabilidade </option>
                            </select>
                    </div>
                </section>

                <section id="agrupamento">
                    <h2>Classificar Posts</h2>
                    <div class="form-group">
                        <label for="groupFilter"> Classificar por: </label>
                        <select id="groupFilter">
                            <option value="todas"> Nenhum Crit√©rio </option>
                            <option value="Mais Recente"> Mais Recente </option>
                            <option value="Mais Antigo"> Mais Antigo </option>
                            <option value="Maior n√∫mero de likes"> Maior n√∫mero de likes </option>
                            <option value="Menor n√∫mero de likes"> Menor n√∫mero de likes </option>
                            <option value="Maior n√∫mero de dislikes"> Maior n√∫mero de dislikes </option>
                            <option value="Menor n√∫mero de dislikes"> Menor n√∫mero de dislikes </option>
                            <option value="Maior n√∫mero de coment√°rios"> Maior n√∫mero de coment√°rios </option>
                            <option value="Menor n√∫mero de coment√°rios"> Menor n√∫mero de coment√°rios </option>
                        </select>
                    </div>
                </section>
            </aside>

            <main id="centro">
                <div id="posts-container">
                </div>
                
                <button id="loadMorePostsBtn" type="button" class="btn-enviar" style="display: none;">Carregar Mais Posts</button>
            </main>

            <button class="btn-flutuante" type="button" onclick="toggleColuna('direita')" title="Nova Postagem">
                +
            </button>

            <aside id="direita" class="coluna-lateral">
                <div id="container-fechar">
                    <button class="fechar-nova-postagem" type="button" onclick="toggleColuna('direita')">
                        >
                    </button>
                </div>

                <section>
                    <form id="postForm">
                        <h2> Nova postagem </h2>

                        <div class="form-group">
                            <label for="title">T√≠tulo</label>
                            <input type="text" id="title" placeholder="Digite" required>
                        </div>

                        <div class="form-group">
                            <label for="tagFilterPost"> Definir tag como: </label>
                            <select id="tagFilterPost" required>
                                <option value=""> Nenhuma Tag </option>
                                <option value="tecnologia"> Tecnologia </option>
                                <option value="empreendedorismo"> Empreendedorismo </option>
                                <option value="sustentabilidade"> Sustentabilidade </option>
                                <option value="tecnologia e empreendedorismo"> Tecnologia e Empreendedorismo </option>
                                <option value="tecnologia e sustentabilidade"> Tecnologia e Sustentabilidade</option>
                                <option value="empreendedorismo e sustentabilidade"> Empreendedorismo e Sustentabilidade </option>
                                <option value="tecnologia, empreendedorismo e sustentabilidade"> Tecnologia, Empreendedorismo e Sustentabilidade </option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="contentPost"> Conte√∫do </label> <textarea id="contentPost" rows="5" placeholder="Digite aqui" required></textarea>
                        </div>

                        <button type="submit" class="btn-enviar"> Publicar </button>
                        <button type="button" class="btn-delete" onclick="document.getElementById('postForm').reset()"> Limpar </button>
                    </form>
                </section>
            </aside>
        </div>

        <div id="rodape">
            <div class="rodape-coluna-1">
                <h4> Sobre </h4>
                <p>
                    Simula√ß√£o do comportamento de uma rede social. <br>
                    Feita por alunos de ADS do IPFI Teresina central
                </p>

                <p>
                    &copy; 2025 IFPI Tech. Todos os direitos reservados.
                </p>
            </div>

            <div class="rodape-coluna-2">
                <h4> Github dos integrantes do grupo: </h4>
                <ul>
                    <li><a href="https://github.com/hmccl"> H√©lio Mendes </a></li>
                    <li><a href="https://github.com/Macedo-J247"> Jos√© Mac√™do </a></li>
                    <li><a href="https://github.com/EmanoelSousa70"> Emanoel Sousa </a></li>
                    <li><a href="https://github.com/rsmwall"> Rafael Silva </a></li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        const esquerda = document.getElementById('esquerda');
        const cabecalho = document.getElementById('cabecalho');

        let cabecalhoAltura = cabecalho.offsetHeight; 
        let ultimoScroll = 0;

        window.addEventListener('scroll', () => {
            const scrollAtual = window.scrollY;

            if (scrollAtual > ultimoScroll) {
                // Scroll para baixo (header some)
                esquerda.style.top = '0px';
            } else {
                // Scroll para cima (header volta)
                esquerda.style.top = cabecalhoAltura + 'px';
            }

            ultimoScroll = scrollAtual <= 0 ? 0 : scrollAtual;
        });

        document.getElementById('toggle-theme').addEventListener('click', () => {
            const html = document.documentElement;
            if (html.getAttribute('data-theme') === 'dark') {
                html.setAttribute('data-theme', 'light');
                localStorage.setItem('theme', 'light');
            } else {
                html.setAttribute('data-theme', 'dark');
                localStorage.setItem('theme', 'dark');
            }
        });

        const toggleBtn = document.getElementById('toggle-theme');
        const root = document.documentElement;

        // Carregar prefer√™ncia salva
        if (localStorage.getItem('theme') === 'dark') {
            root.classList.add('dark-mode');
            toggleBtn.textContent = '‚òÄÔ∏è'; // √çcone de sol para voltar ao claro
        }

        toggleBtn.addEventListener('click', () => {
            root.classList.toggle('dark-mode');
            const isDark = root.classList.contains('dark-mode');
            
            // Troca √≠cone
            toggleBtn.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            
            // Salva prefer√™ncia
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Aplicar o tema salvo
        window.addEventListener('DOMContentLoaded', () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
        });

        // Fun√ß√£o para as barras laterais das p√°ginas (mantida aqui para refer√™ncia, mas a l√≥gica est√° no scripts.js)
        // Isso √© para garantir que os bot√µes do HTML continuem funcionando, chamando as fun√ß√µes expostas pelo scripts.js
        // No entanto, √© melhor usar event listeners no scripts.js para um c√≥digo mais limpo e modular.

        // C√≥digo de rolagem do cabe√ßalho (j√° existia)
        window.addEventListener("load", () => {
            const header = document.getElementById("cabecalho");
            header.style.top = "0";
        });

        let lastScrollTop = 0;
        const header = document.getElementById("cabecalho");

        window.addEventListener("scroll", function () {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            if (scrollTop > lastScrollTop) {
                header.style.top = "-100px";
            } else {
                header.style.top = "0";
            }
            lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
        }, false);

        // Fun√ß√µes para contabilizar as curtidas dos posts e coment√°rios (AGORA SER√ÉO TRATADAS PELO scripts.js)
        // Removidas as implementa√ß√µes diretas aqui para evitar duplica√ß√£o e garantir que o JS lide com isso.
        // As chamadas onclick nos bot√µes no HTML ser√£o alteradas dinamicamente pelo createPostElement no scripts.js
        // para chamar a fun√ß√£o global `handleLikeDislike`.
    </script>
</body>
</html>